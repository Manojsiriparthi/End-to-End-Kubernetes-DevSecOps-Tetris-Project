{"ast":null,"code":"import Next from\"./Next.js\";import Score from\"./Score.js\";import Level from\"./Level.js\";import{createMatrix}from\"../helpers/Helpers\";import React,{useState,useEffect}from'react';import styles from\"./Game.module.css\";import{emtpyPiece}from\"../tetris/Piece\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Game=props=>{const tetris=props.tetris;const[state,setState]=useState(props.tetris.state);const onStateChange=_state=>{setState(_state);};useEffect(()=>{tetris.onStateChange(onStateChange);document.title=\"React Tetris\";},[tetris]);let resumePauseButton;if(state.isStarted()){if(state.isRunning()){resumePauseButton=/*#__PURE__*/_jsx(\"button\",{onClick:tetris.pause,className:`${styles.btn} ${styles.btnPause}`,children:\"Pause\"});}else{resumePauseButton=/*#__PURE__*/_jsx(\"button\",{onClick:tetris.resume,className:`${styles.btn} ${styles.btnNew}`,children:\"Resume\"});}}const matrix=createMatrix(state.visibleMatrix(),styles);const nextPiece=state.nextPiece();const visibleNextPiece=nextPiece?nextPiece:emtpyPiece();const gameOver=state.isGameOver()?/*#__PURE__*/_jsx(\"div\",{className:styles.gameOver,children:/*#__PURE__*/_jsx(\"p\",{children:\"Game Over\"})}):'';return/*#__PURE__*/_jsxs(\"div\",{className:styles.content,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.header,children:/*#__PURE__*/_jsx(\"span\",{children:\"React Tetris\"})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.matrix,children:[matrix,gameOver]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.controls,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.controlsNext,children:/*#__PURE__*/_jsx(Next,{next:visibleNextPiece})}),/*#__PURE__*/_jsx(\"div\",{className:styles.controlsScore,children:/*#__PURE__*/_jsx(Score,{score:state.score()})}),/*#__PURE__*/_jsx(\"div\",{className:styles.controlsLevel,children:/*#__PURE__*/_jsx(Level,{level:state.level()})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.controlsButtons,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.row,children:/*#__PURE__*/_jsx(\"button\",{onClick:tetris.start,className:`${styles.btn} ${styles.btnNew}`,children:\"New Game\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.row,children:resumePauseButton})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.controlsInfo,children:/*#__PURE__*/_jsxs(\"p\",{class:\"infoText\",children:[\"Start/Pause/Resume: Space \",/*#__PURE__*/_jsx(\"br\",{}),\"Rotate: Arrow Up \",/*#__PURE__*/_jsx(\"br\",{}),\"Left: Arrow Left \",/*#__PURE__*/_jsx(\"br\",{}),\"Right: Arrow Right \",/*#__PURE__*/_jsx(\"br\",{}),\"Soft Drop: Arrow Down \",/*#__PURE__*/_jsx(\"br\",{})]})})]})]});};export default Game;","map":{"version":3,"names":["Next","Score","Level","createMatrix","React","useState","useEffect","styles","emtpyPiece","jsx","_jsx","jsxs","_jsxs","Game","props","tetris","state","setState","onStateChange","_state","document","title","resumePauseButton","isStarted","isRunning","onClick","pause","className","btn","btnPause","children","resume","btnNew","matrix","visibleMatrix","nextPiece","visibleNextPiece","gameOver","isGameOver","content","header","controls","controlsNext","next","controlsScore","score","controlsLevel","level","controlsButtons","row","start","controlsInfo","class"],"sources":["/root/End-to-End-Kubernetes-DevSecOps-Tetris-Project/Tetris-V1/src/components/Game.js"],"sourcesContent":["import Next from \"./Next.js\";\nimport Score from \"./Score.js\";\nimport Level from \"./Level.js\";\nimport {createMatrix} from \"../helpers/Helpers\";\nimport React, {useState, useEffect} from 'react';\nimport styles from \"./Game.module.css\";\nimport {emtpyPiece} from \"../tetris/Piece\";\n\nexport const Game = (props) => {\n    const tetris = props.tetris;\n    const [state, setState] = useState(props.tetris.state);\n\n    const onStateChange = (_state) => {\n        setState(_state);\n    };\n\n    useEffect(() => {\n        tetris.onStateChange(onStateChange);\n        document.title =\"React Tetris\";\n    }, [tetris]);\n\n\n    let resumePauseButton;\n    if (state.isStarted()) {\n        if (state.isRunning()) {\n            resumePauseButton =\n                <button onClick={tetris.pause} className={`${styles.btn} ${styles.btnPause}`}>Pause</button>\n        } else {\n            resumePauseButton =\n                <button onClick={tetris.resume} className={`${styles.btn} ${styles.btnNew}`}>Resume</button>\n        }\n    }\n\n\n    const matrix = createMatrix(state.visibleMatrix(), styles);\n\n    const nextPiece = state.nextPiece();\n    const visibleNextPiece = nextPiece ? nextPiece : emtpyPiece();\n\n    const gameOver = state.isGameOver() ?\n        <div className={styles.gameOver}>\n            <p>Game Over</p>\n        </div>\n        :\n        '';\n\n    return (\n        <div className={styles.content}>\n            <div className={styles.header}><span>React Tetris</span></div>\n\n            <div className={styles.matrix}>\n                {matrix}\n                {gameOver}\n            </div>\n            <div className={styles.controls}>\n                <div className={styles.controlsNext}>\n                    <Next next={visibleNextPiece}/>\n                </div>\n                <div className={styles.controlsScore}>\n                    <Score score={state.score()}/>\n                </div>\n                <div className={styles.controlsLevel}>\n                    <Level level={state.level()}></Level>\n                </div>\n                <div className={styles.controlsButtons}>\n                    <div className={styles.row}>\n                        <button onClick={tetris.start} className={`${styles.btn} ${styles.btnNew}`}>New Game</button>\n                    </div>\n                    <div className={styles.row}>\n                        {resumePauseButton}\n                    </div>\n                </div>\n                <div className={styles.controlsInfo}>\n                    <p class=\"infoText\">\n                        Start/Pause/Resume: Space <br/>\n                        Rotate: Arrow Up <br/>\n                        Left: Arrow Left <br/>\n                        Right: Arrow Right <br/>\n                        Soft Drop: Arrow Down <br/>\n                    </p>\n                </div>\n            </div>\n        </div>\n    );\n\n}\n\nexport default Game;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}